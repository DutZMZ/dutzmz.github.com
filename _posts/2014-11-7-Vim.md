---
layout: post
category: Linux
title: 文本编辑器Vim
tagline: by zmz
tags: [Linux, Vim]
---

Vim是从Vi发展而来，是Linux系统中一款强大的文本编辑软件。代码补完、编译及错误跳转等方便编程的功能特别丰富，在程序员中被广泛使用。Vim没有菜单，只支持命令操作。

<!--more-->

使用Vim对文件操作时，有三种模式：命令模式、插入模式和编辑模式。如图1所示。
![Vim-models](http://dutzmz.github.io/img/Vim-modes.png)
<center>图1. Vim的三种模式</center>

作为例子，小z先建立一个test.txt的文本文件，并依此作为例子来讲解。

    touch test.txt
    vim test.txt
    
使用touch命令建立名为test.txt的文件，然后使用"vim test.txt"打开该文件，此时按照图1所示，进入“命令模式”，此时可以使用上下左右箭头快速移动光标。

##插入模式与插入命令
所谓的命令模式，就是指此时不可以对文件进行编辑，而是等待用户输入命令，根据输入的命令决定如何对文件进行编辑。输入字符i或者a或者o进入插入模式：

* 输入a：在光标所在字符后插入
* 输入A：在光标所在行行尾插入
* 输入i：在光标所在字符前插入
* 输入I：在光标所在行行首插入
* 输入o：在光标下插入新行
* 输入O：在光标上插入新行

进入插入模式后，就可以对文件进行编辑。插入操作完成后，按ESC键返回到“命令模式”，即“从命令模式---插入模式---命令模式”。

##编辑模式
在命令模式下，输入英文冒号':'则进入编辑模式，有的参考文献也将编辑模式称为低行模式，其实小z感觉低行模式更形象写，因为此时只能从终端的最后一行进行输入操作。

在编辑模式下，可以进行保存文件或退出Vim，同时也可以设置编辑环境和一些编译工作，如列出行号、寻找字符串等。

在编辑模式下，按backspace删除冒号，可以回到命令模式。

##定位命令

* :set nu:设置行号，此时文件的每一行都会显示相应的行号。
* :set nonu:取消行号
* gg：命令模式，定位到第一行
* G：命令模式，定位到最后一行
* nG：命令模式，定位到第n行
* :n:即编辑模式下，输入n，定位到第n行

##删除命令

* x：命令模式，删除光标所在处字符
* nx：命令模式，删除光标所在处后n个字符
* dd：命令模式，删除光标所在行，ndd，删除n行
* dG：命令模式，删除光标所在行到文件末尾的内容
* D：命令模式，删除光标所在处到文件末尾的内容
* :n1,n2d:编辑模式，删除指定范围内的行

